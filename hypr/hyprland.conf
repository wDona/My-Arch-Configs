input {
    kb_layout = us
    kb_variant = dvorak
}

# abrir terminal
bind = SUPER, T, exec, kitty

# cerrar ventana actual
bind = ALT, F4, killactive

# cerrar sesion
bind = SUPER, F12, exit

# abrir explorador de archivos
bind = SUPER, E, exec, thunar

# abridor de apps
bindr = SUPER, SUPER_L, exec, ~/.config/rofi/scripts/launch_rofi.sh
# abrir brave
bind = SUPER, B, exec, brave

# pantalla completa
bind = SUPER, F11, fullscreen

# mover ventana a monitor derecha o izq
bind = CTRL ALT, right, movewindow, r
bind = CTRL ALT, left, movewindow, l

bind = SUPER, N, exec, swaync-client -t -sw

# cambiar entre flotante y no flotante
bind = SUPER, Space, togglefloating

# Maximizar
bind = SUPER, Up, movetoworkspace, special

# Dejar la ventana en foco al workspace actula
bind = SUPER, Down, movetoworkspace, e+0

# Control de medios
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPrev, exec, playerctl previous

# Captura de área seleccionada y abrir editor swappy
bind = , Print, exec, grim -g "$(slurp)" - | swappy -f -
# Captura de pantalla completa al portapapeles
bind = SHIFT, Print, exec, grim - | wl-copy

# Iniciar el buffer de repetición al arrancar (ejemplo: últimos 30 seg)
exec-once = mkdir -p ~/Videos/Clips
# Iniciar el grabador al arrancar (usando la ruta absoluta para evitar errores)
exec-once = gpu-screen-recorder -w $(hyprctl monitors -j | jq -r '.[] | select(.focused==true) | .name') -f 60 -a default_output -r 30 -o $HOME/Videos/Clips

# Shortcut para guardar el clip con notificación
bind = CTRL SHIFT, S, exec, notify-send "Grabador" "Guardando clip..." && pkill -f -SIGUSR1 gpu-screen-recorder

# inicia la barra de tareas
exec-once = waybar

# sistema de notificaciones
exec-once = swaync
exec-once = ~/.config/swaync/steam_notif.sh

# Monitor AOC (Principal) a 165Hz
monitor = DP-2, 1920x1080@165, 0x0, 1

# Monitor Samsung (Secundario) a 60Hz posicionado a la derecha
monitor = HDMI-A-1, 1920x1080@60, 1920x0, 1

# freesync
misc {
    vrr = 1
}

# sonido
exec-once = pipewire
exec-once = pipewire-pulse
exec-once = wireplumber

# Permitir mover las ventanas con el ratón usando SUPER (Windows) + Arrastrar
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

# en general
general {
    # El espacio entre la ventana y el borde de la pantalla
    gaps_in = 2     # Espacio entre ventanas
    gaps_out = 5    # Espacio entre ventana y borde de monitor (ponlo en 0 si quieres que toquen el borde)
    
    border_size = 2
    col.active_border = rgba(7d498aee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)

    layout = dwindle # Aunque uses float, esto define el comportamiento base
}

# en general
decoration {
    rounding = 16    # <--- Sube este número para esquinas más redondas (10-15 es lo ideal)

    # Blur (hace que el fondo de la ventana sea translúcido si la app lo permite)
    blur {
        enabled = true
        size = 5
        passes = 2
    }
}

# explorador de archivos
windowrule {
    name = thunar-look
    match:class = thunar
    
    opacity = 0.85 0.75
}

# discord gay
windowrule {
    name = fake-discord
    match:class = vesktop

    opacity = 0.90 0.87
}

# vs code
windowrule {
    name = vscode-transparency
    match:class = code-url-handler
    opacity = 0.90 0.85
}

# calendario
windowrule {
    name = gsimplecal-float
    match:class = gsimplecal
    float = true
    move = 800 33
    pin = true
}

# 
windowrule {
    name = swaync-panel
    # La clase exacta suele ser esta o 'SwayNotificationCenter'
    match:class = swaync-control-center
    
    float = on
    # Movemos al 37% horizontal y 10px desde arriba
    move = 37% 10
    # Forzamos que la ventana "nazca" con este tamaño
    size = 550 100
}

# Regla extra para las notificaciones flotantes (los globitos)
windowrule {
    name = swaync-globitos
    match:class = swaync-notification-window
    move = 37% 10
}

# intentar mover al centro el panel de notificaciones
windowrule {
    name = swaync-centro
    match:class = ^(swaync-control-center)$
    
    float = on
    move = 35% 10
    # Aquí forzamos el tamaño inicial y bloqueamos que crezca solo
    size = 550 400
    center = off
}

# intento de difuminar el fondo de las notificaciones
blurls = swaync-control-center
blurls = swaync-notification-window

# fondo de pantalla
exec-once = mpvpaper -o "--loop --no-audio --vo=gpu --hwdec=auto" '*' /home/wdona/.local/share/Steam/steamapps/workshop/content/431960/2517584622/Cyberpunk_night_city_animated_wallpaper_PETEOMG_exclusive_no_opener_sound_original_panels.mp4
